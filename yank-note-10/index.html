<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Yank Note 系列 10 - 新增自定义快捷键功能 | 洋子的自留地</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="alternate" type="application/rss+xml" href="https://purocean.github.io/rss.xml" title="洋子的自留地 RSS Feed">
    <meta name="description" content="Yank Note 是我编写的笔记应用。这里我将会写下一些关于 Yank Note 的文章
&gt; - Yank Note 系列 01 - 为什么要自己写笔记软件？
&gt; - Yank Note 系列 02 - Markdown 渲染性能优化之路
&gt; - [Yank ...">
    
    <link rel="preload" href="/assets/css/0.styles.5ee86e3d.css" as="style"><link rel="preload" href="/assets/js/app.c24ad813.js" as="script"><link rel="preload" href="/assets/js/4.a919a368.js" as="script"><link rel="preload" href="/assets/js/1.b0bbcc77.js" as="script"><link rel="preload" href="/assets/js/45.0384d959.js" as="script"><link rel="prefetch" href="/assets/js/11.221bed89.js"><link rel="prefetch" href="/assets/js/12.e94302a5.js"><link rel="prefetch" href="/assets/js/13.ed891f49.js"><link rel="prefetch" href="/assets/js/14.acf6566b.js"><link rel="prefetch" href="/assets/js/15.54f4a3d9.js"><link rel="prefetch" href="/assets/js/16.bb858bfd.js"><link rel="prefetch" href="/assets/js/17.c6a2bbc8.js"><link rel="prefetch" href="/assets/js/18.66fb8bc7.js"><link rel="prefetch" href="/assets/js/19.a70e5f6f.js"><link rel="prefetch" href="/assets/js/2.d9736519.js"><link rel="prefetch" href="/assets/js/20.b23a37b4.js"><link rel="prefetch" href="/assets/js/21.d3a9bb80.js"><link rel="prefetch" href="/assets/js/22.66343f4a.js"><link rel="prefetch" href="/assets/js/23.ed2ae336.js"><link rel="prefetch" href="/assets/js/24.da40d593.js"><link rel="prefetch" href="/assets/js/25.b5c2c5f1.js"><link rel="prefetch" href="/assets/js/26.a3e36f84.js"><link rel="prefetch" href="/assets/js/27.5d8ebc85.js"><link rel="prefetch" href="/assets/js/28.2b42ab80.js"><link rel="prefetch" href="/assets/js/29.636aa792.js"><link rel="prefetch" href="/assets/js/3.605ef2e9.js"><link rel="prefetch" href="/assets/js/30.32cf4966.js"><link rel="prefetch" href="/assets/js/31.85339e06.js"><link rel="prefetch" href="/assets/js/32.5f88d44e.js"><link rel="prefetch" href="/assets/js/33.2fc19e88.js"><link rel="prefetch" href="/assets/js/34.2eecb09d.js"><link rel="prefetch" href="/assets/js/35.af212797.js"><link rel="prefetch" href="/assets/js/36.1bc9e5a5.js"><link rel="prefetch" href="/assets/js/37.95077ad7.js"><link rel="prefetch" href="/assets/js/38.9c71544d.js"><link rel="prefetch" href="/assets/js/39.60b4f8d3.js"><link rel="prefetch" href="/assets/js/40.a62bf563.js"><link rel="prefetch" href="/assets/js/41.3e63db0e.js"><link rel="prefetch" href="/assets/js/42.f13b8bfd.js"><link rel="prefetch" href="/assets/js/43.78d8a272.js"><link rel="prefetch" href="/assets/js/44.8ab26943.js"><link rel="prefetch" href="/assets/js/46.6e224da7.js"><link rel="prefetch" href="/assets/js/47.0838f5cd.js"><link rel="prefetch" href="/assets/js/48.2ae7bad5.js"><link rel="prefetch" href="/assets/js/49.04a7bec5.js"><link rel="prefetch" href="/assets/js/5.1f904404.js"><link rel="prefetch" href="/assets/js/50.314d27c1.js"><link rel="prefetch" href="/assets/js/51.e5fc0c6c.js"><link rel="prefetch" href="/assets/js/52.33ea9fd8.js"><link rel="prefetch" href="/assets/js/53.04115108.js"><link rel="prefetch" href="/assets/js/54.1af5a13e.js"><link rel="prefetch" href="/assets/js/6.1aed2db1.js"><link rel="prefetch" href="/assets/js/7.efa58335.js"><link rel="prefetch" href="/assets/js/8.0c59f90a.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.2352b21b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5ee86e3d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">洋子的自留地 </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/" class="nav-link">首页</a></li><li class="nav-item"><a href="/tag/" class="nav-link">标签</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <a href="/rss.xml" class="feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">洋子的自留地 </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/" class="nav-link">首页</a></li><li class="mobile-nav-item"><a href="/tag/" class="nav-link">标签</a></li> <li class="mobile-nav-item"><a href="/rss.xml" class="feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        Yank Note 系列 10 - 新增自定义快捷键功能
      </h1> <div class="post-meta"><div itemprop="publisher author" itemtype="http://schema.org/Person" itemscope="itemscope" class="post-meta-author"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg> <span itemprop="name">洋子</span> <!----></div> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2023-08-09T00:00:00.000Z">
      2023-08-09
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-42ccfcd5><a href="/tag/Yank-Note" data-v-42ccfcd5><span data-v-42ccfcd5>Yank-Note</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><blockquote><p><a href="https://github.com/purocean/yn" target="_blank" rel="noopener noreferrer">Yank Note<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是我编写的笔记应用。这里我将会写下一些关于 Yank Note 的文章</p> <ul><li><a href="/yank-note-01">Yank Note 系列 01 - 为什么要自己写笔记软件？</a></li> <li><a href="/yank-note-02">Yank Note 系列 02 - Markdown 渲染性能优化之路</a></li> <li><a href="/yank-note-03">Yank Note 系列 03 - 同内存泄露的艰难战斗！</a></li> <li><a href="/yank-note-04">Yank Note 系列 04 - 编辑和预览同步滚动方案</a></li> <li><a href="/yank-note-05">Yank Note 系列 05 - 关于本地历史功能</a></li> <li><a href="/yank-note-06">Yank Note 系列 06 - 使用人工智能写文章是什么体验？</a></li> <li><a href="/yank-note-07">Yank Note 系列 07 - 性能暴增 132 倍的秘密——重写</a></li> <li><a href="/yank-note-08">Yank Note 系列 08 - 优化 Katex 公式渲染性能</a></li> <li><a href="/yank-note-09">Yank Note 系列 09 - 关于流的使用</a></li> <li><a href="/yank-note-10">Yank Note 系列 10 - 新增自定义快捷键功能</a></li> <li><a href="/yank-note-11">Yank Note 系列 11 - 预览内查找功能</a></li> <li><a href="/yank-note-12">Yank Note 系列 12 - 高效构建仓库索引与知识图谱</a></li></ul></blockquote> <p>自定义快捷键是很多 Yank Note 用户的诉求，很抱歉这个功能鸽了好几年现在才做上。</p> <p>这有两个原因，一方面是之前的开发阶段，Yank Note 很多地方不完善，有很多优先级更高的事情要做。另一方面则是做自定义快捷键功能要做得比较好，还是不太容易。比如要考虑各种键盘布局，解决快捷键冲突，一个易于使用的可视化配置界面等等。</p> <p>不过好在 Yank Note 的核心设计考虑了要自定义快捷键的需求，这次做这个功能还算顺利。</p> <p><img alt="Img" data-src="/assets/img/img-20230809124015.c6904b8f.png" loading="lazy" class="lazy"></p> <p>可自定义快捷键的有三个部分：工作台、编辑器、应用</p> <h2 id="工作台"><a href="#工作台" class="header-anchor">#</a> 工作台</h2> <p>Yank Note 可以通过使用 <code>ctx.action.registerAction</code> 方法来注册一个操作，这个操作可以附带可响应的默认快捷键，如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">registerAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'base.find-in-repository'</span><span class="token punctuation">,</span> <span class="token comment">// action 名</span>
  <span class="token literal-property property">keys</span><span class="token operator">:</span> <span class="token punctuation">[</span>CtrlCmd<span class="token punctuation">,</span> Shift<span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 默认快捷键</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'command-desc.base_find-in-repository'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 描述</span>
  <span class="token literal-property property">forUser</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 用户是否可以配置</span>
  handler<span class="token punctuation">,</span> <span class="token comment">// 执行方法</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>通过上面的方法，就给工作台注册了一个“仓库中搜索”的 Action，关联的默认快捷键 是<code>CtrlCmd+Shift+F</code></p> <p>那么用户自定义快捷键后，怎样生效呢？</p> <p>Yank Note 针对 Action 暴露了一个口子，可以拦截 action 的获取操作，进行一些定制性的修改。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>ctx<span class="token punctuation">.</span>action<span class="token punctuation">.</span><span class="token function">tapAction</span><span class="token punctuation">(</span><span class="token parameter">action</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 可以在这里动态修改快捷键</span>
    <span class="token comment">// action.keys = </span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这样，工作台的自定义快捷键就完成了。</p> <h2 id="编辑器"><a href="#编辑器" class="header-anchor">#</a> 编辑器</h2> <p>再说说自定义编辑器快捷键是怎样实现的。Yank Note 使用的是 Monaco 编辑器，也就是 VSCode 内部用的那个编辑器。因此这些快捷键定义好了，需要丢给 Monaco 来处理，具体可以参考这个 <a href="https://github.com/microsoft/monaco-editor/issues/102" target="_blank" rel="noopener noreferrer">https://github.com/microsoft/monaco-editor/issues/102<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Issue，里面讨论了在 Monaco 编辑器中怎样更改快捷键的方法。</p> <p>不过网上关于 Monaco 或者说 VScode 快捷键相关的资料还是不够丰富，我还是选择了看源码。比起看文档，看源码更能了解整个工作流程的细节。下面的结论基本上都是翻了 VSCode 的源码得到的。</p> <p>在 VSCode 中，Action 和 Command 和 Keybinding 概念是分开的，注册一个 Action 同时可以注册一个带快捷键的 Command，并有附带 Keybingding 规则。相关代码非常多，因为 VSCode 要考虑的情况也非常复杂。而 Yank Note 这次做的自定义快捷键功能包括一个配置面板和一个应用插件，简化了（不考虑）很多情况，相关代码也就一千多行。</p> <h3 id="让原有快捷键失效"><a href="#让原有快捷键失效" class="header-anchor">#</a> 让原有快捷键失效</h3> <p>配置快捷键使用 <code>monaco.editor.addKeybindingRules</code> 这个新引入不久的 API，有两种方法可以让一个已定义的快捷键失效：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>editor<span class="token punctuation">.</span><span class="token function">addKeybindingRules</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// 方式一</span>
        <span class="token literal-property property">keybinding</span><span class="token operator">:</span> KeyCode<span class="token punctuation">.</span><span class="token constant">F1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">when</span><span class="token operator">:</span> <span class="token string">'条件表达式'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">command</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// 方式二</span>
        <span class="token literal-property property">keybinding</span><span class="token operator">:</span> KeyCode<span class="token punctuation">.</span><span class="token constant">F1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">when</span><span class="token operator">:</span> <span class="token string">'条件表达式'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">command</span><span class="token operator">:</span> <span class="token string">'-editor.action.name'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>虽然他们都表现为让 <code>F1</code> 快捷键失效，但具体到内部原理还是不一样的。</p> <p>方式一的工作原理是新添加一个规则，让后面的规则覆盖原来的规则。这里就是按<code>F1</code>匹配到了规则，但是没有可以运行的命令。</p> <p>方式二则是从原有的规则表中<strong>删去</strong>匹配到的规则（包含when表达式）。</p> <p>如果要做一个<strong>移除</strong>现有命令快捷键的功能，最好不要用方式一，因为方式一会把规则中的已有的都覆盖掉（比如两个命令使用同一个快捷键的情况），无差别禁用。方式二则可以精确的去掉某个快捷键规则，让原有规则中的其他规则还能生效。</p> <h3 id="更改快捷键"><a href="#更改快捷键" class="header-anchor">#</a> 更改快捷键</h3> <p>不过更改一个快捷键光是移除还不够的，还需要添加一条新规则。这个规则需要知道命令的 id、快捷键的编码（VSCode 用一个数字来表示快捷键）以及这个规则原有的 when 表达式。</p> <p>首先，用 <code>editor.getActions</code> 可以获取所有命令的 ID<br>
接着，用 <code>editor._standaloneKeybindingService._getResolver().lookupPrimaryKeybinding</code> 获取一个命令原始的快捷键绑定情况，获得 when 表达式<br>
最后，把 Yank Note 配置的快捷计算为一个 number 类型的编码，组装成规则后调用<code>editor.addKeybindingRules</code> 接口塞进去</p> <p>这三步都各有各的坑：</p> <ol><li>相关 API Monaco 编辑器也没暴露，只能翻源码+自己从实例里面找出来用用；</li> <li>快捷键按键规则是一个数字，但这个数字我翻看 VSCode 源码，内部又没咋用（进入内部就解码了），但接口又只能接受这种参数，只能自己参考内部的解码方法写一个编码方法。</li> <li>修饰键 KeyMod 中的 <code>CtrlCmd</code> 和 <code>WinCtrl</code> 也让我困惑了一阵子，好在 issue 有人解释 <a href="https://github.com/microsoft/monaco-editor/issues/2570#issuecomment-877997943" target="_blank" rel="noopener noreferrer">https://github.com/microsoft/monaco-editor/issues/2570#issuecomment-877997943<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Monaco 支持 Chord 按键序列，Yank Note 不支持</li></ol> <p>这里就写这么多吧，希望能后面要自定义 Monaco 编辑器快捷键的伙伴做点参考。</p> <h2 id="应用"><a href="#应用" class="header-anchor">#</a> 应用</h2> <p>应用快捷键是指在 Electron 中注册的快捷键。这里只需要考虑将配置的快捷键转换为 Electron 接受的格式即可，可以参考 <a href="https://www.electronjs.org/docs/latest/api/accelerator" target="_blank" rel="noopener noreferrer">https://www.electronjs.org/docs/latest/api/accelerator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 官方文档</p> <h2 id="更多"><a href="#更多" class="header-anchor">#</a> 更多</h2> <p>上面做了这么多工作，还有一件事没仔细考虑，那就是适应不同的键盘布局。这个问题事实上不那么容易处理。目前 Yank Note 先放过这一部分了。这里有几篇文章写得很好，推荐阅读</p> <ul><li><a href="https://rebornix.com/vscode/2019/08/11/web-keyboard-support/" target="_blank" rel="noopener noreferrer">Web 应用快捷键支持（一）：正确处理 Keyboard Event<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://rebornix.com/vscode/2019/08/25/web-keyboard-support-2/" target="_blank" rel="noopener noreferrer">Web 应用快捷键支持（二）：code/key 的缺点和 Node native keymap<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://rebornix.com/vscode/2019/09/11/web-keyboard-support-3/" target="_blank" rel="noopener noreferrer">Web 应用快捷键支持（三）：VS Code 快捷键服务的实现<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>以上就是 Yank Note 在做自定义快捷键功能时候相关的一些我觉得值得分享的东西，希望大家能喜欢这个功能。</p> <blockquote><p>本文由「<a href="https://github.com/purocean/yn" target="_blank" rel="noopener noreferrer">Yank Note - 一款强大可扩展的 Markdown 编辑器，为生产力而生<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>」撰写</p></blockquote></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#工作台" title="工作台">工作台</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#编辑器" title="编辑器">编辑器</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#让原有快捷键失效" title="让原有快捷键失效">让原有快捷键失效</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#更改快捷键" title="更改快捷键">更改快捷键</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#应用" title="应用">应用</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#更多" title="更多">更多</a></div></div></div></div> <footer class="footer" data-v-3d9deeb8><div class="footer-left-wrap" data-v-3d9deeb8><ul class="contact" data-v-3d9deeb8><li class="contact-item" data-v-3d9deeb8><a href="https://github.com/purocean/blog" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-3d9deeb8><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-3d9deeb8></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-3d9deeb8><ul class="copyright" data-v-3d9deeb8><li class="copyright-item" data-v-3d9deeb8>Powered by VuePress | Copyright © 2019-present</li><li class="copyright-item" data-v-3d9deeb8><a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8>蜀ICP备2023032883号-1</a></li></ul></div></footer></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.c24ad813.js" defer></script><script src="/assets/js/4.a919a368.js" defer></script><script src="/assets/js/1.b0bbcc77.js" defer></script><script src="/assets/js/45.0384d959.js" defer></script>
  </body>
</html>
